@code{

    [Parameter] 
    public Action ToggleModal { get; set; } = null!;

    [Parameter] 
    public Subtask ActiveTask { get; set; } = null!;
    
    [Parameter]
    public List<Section> Sections { get; set; } = null!;

}

@using TrackR.Models.SQL
<div id="backdrop_subtask" @onclick="ToggleModal"></div>
<section id="subtask_details_modal">
    <div id="task_details">
        <h1>@ActiveTask.Title</h1>
        <p>@ActiveTask.Issue</p>
        <div>
            <div id="task_details_owner">
                @*TODO: Assign Owner*@
                @if (ActiveTask.Owner is not null)
                {
                    <img src="" alt="User Image"/>
                    <p>@ActiveTask.Owner.FirstName @ActiveTask.Owner.LastName</p>
                }
                else
                {
                    <div>
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                            <path d="M2.5 30C2.5 30 0 30 0 27.5C0 25 2.5 17.5 15 17.5C27.5 17.5 30 25 30 27.5C30 30 27.5 30 27.5 30H2.5ZM15 15C16.9891 15 18.8968 14.2098 20.3033 12.8033C21.7098 11.3968 22.5 9.48912 22.5 7.5C22.5 5.51088 21.7098 3.60322 20.3033 2.1967C18.8968 0.790177 16.9891 0 15 0C13.0109 0 11.1032 0.790177 9.6967 2.1967C8.29018 3.60322 7.5 5.51088 7.5 7.5C7.5 9.48912 8.29018 11.3968 9.6967 12.8033C11.1032 14.2098 13.0109 15 15 15Z" fill="#191922"/>
                        </svg>
                    </div>
                    <p>None</p>
                }
            </div>
            <div id="task_details_column">
                <label>Column:</label>
                <select>
                    @foreach (Section col in Sections)
                    {
                        <option>@col.Name</option>
                    }
                </select>
            </div>
        </div>
    </div>
    @* <div id="task_details_separator"></div> *@
    @* <div id="task_details_subtasks"> *@
    @*      *@
    @* </div> *@
</section>